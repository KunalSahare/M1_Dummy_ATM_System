<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dummy Atm Machine: mainATM.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Dummy Atm Machine
   </div>
   <div id="projectbrief">This project mimics the functionality of a ATM Machine which lets the user to deposit,withdraw money and display their account information and also lets new user to register.This project is not final and is still in Progress. This project has been implemented using C and File Handling.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">mainATM.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbank__acc.html">bank_acc</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">a struct named '<a class="el" href="structbank__acc.html" title="a struct named &#39;bank_acc&#39; is being created so the data taken from the user can be read and written to...">bank_acc</a>' is being created so the data taken from the user can be read and written to the database2.txt file in a 'STRUCTURED manner'.Every operation will be done through this structure :- reading,writing,appending.  <a href="structbank__acc.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5eb97d18200407a6c33e2662e6428011"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_a_t_m_8c.html#a5eb97d18200407a6c33e2662e6428011">new_User_Registration</a> ()</td></tr>
<tr class="memdesc:a5eb97d18200407a6c33e2662e6428011"><td class="mdescLeft">&#160;</td><td class="mdescRight">line 54 - 59 are all function declarations Each function will be explained when they are encountered below.  <a href="main_a_t_m_8c.html#a5eb97d18200407a6c33e2662e6428011">More...</a><br /></td></tr>
<tr class="separator:a5eb97d18200407a6c33e2662e6428011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420b6d51aca4eabe40e1dcd4e02898be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_a_t_m_8c.html#a420b6d51aca4eabe40e1dcd4e02898be">deposit</a> (int id, int p)</td></tr>
<tr class="memdesc:a420b6d51aca4eabe40e1dcd4e02898be"><td class="mdescLeft">&#160;</td><td class="mdescRight">void <a class="el" href="main_a_t_m_8c.html#a420b6d51aca4eabe40e1dcd4e02898be" title="void deposit(int id,int p) When the user has been authenticated and wants to perform the deposit acti...">deposit(int id,int p)</a> When the user has been authenticated and wants to perform the deposit action on their account.  <a href="main_a_t_m_8c.html#a420b6d51aca4eabe40e1dcd4e02898be">More...</a><br /></td></tr>
<tr class="separator:a420b6d51aca4eabe40e1dcd4e02898be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0762848bd2b8f2475e7b9469bc164ab4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_a_t_m_8c.html#a0762848bd2b8f2475e7b9469bc164ab4">withdraw</a> (int id)</td></tr>
<tr class="memdesc:a0762848bd2b8f2475e7b9469bc164ab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">void withdrawl(int id)  <a href="main_a_t_m_8c.html#a0762848bd2b8f2475e7b9469bc164ab4">More...</a><br /></td></tr>
<tr class="separator:a0762848bd2b8f2475e7b9469bc164ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe152c4488471280bfb8eec5c66dfd6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_a_t_m_8c.html#afe152c4488471280bfb8eec5c66dfd6e">check</a> ()</td></tr>
<tr class="memdesc:afe152c4488471280bfb8eec5c66dfd6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check() function simply checkes for existing user data can is accessed when New User case is selected. if the entered account Number exits then the user is promted to select one of the options.  <a href="main_a_t_m_8c.html#afe152c4488471280bfb8eec5c66dfd6e">More...</a><br /></td></tr>
<tr class="separator:afe152c4488471280bfb8eec5c66dfd6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4958e2d854c6c2719ab60f589a24e1b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_a_t_m_8c.html#a4958e2d854c6c2719ab60f589a24e1b2">display</a> (int id, int p)</td></tr>
<tr class="memdesc:a4958e2d854c6c2719ab60f589a24e1b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the content of the Authorized user.  <a href="main_a_t_m_8c.html#a4958e2d854c6c2719ab60f589a24e1b2">More...</a><br /></td></tr>
<tr class="separator:a4958e2d854c6c2719ab60f589a24e1b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f17afc4a08d13979efc4da7a3fc5942"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_a_t_m_8c.html#a4f17afc4a08d13979efc4da7a3fc5942">existinguser</a> ()</td></tr>
<tr class="memdesc:a4f17afc4a08d13979efc4da7a3fc5942"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="main_a_t_m_8c.html#a4f17afc4a08d13979efc4da7a3fc5942" title="The existinguser() function is accessed when the user selects the second option or when the user ente...">existinguser()</a> function is accessed when the user selects the second option or when the user enters a matching account id in the 'New user' section.  <a href="main_a_t_m_8c.html#a4f17afc4a08d13979efc4da7a3fc5942">More...</a><br /></td></tr>
<tr class="separator:a4f17afc4a08d13979efc4da7a3fc5942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_a_t_m_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function is where the program starts from . The user is shown the initial screen of 'Welcome to the ATM', and asked to perform one of the diplayed functions. A switch case has been implemented whenever the user opts to select one of the options.  <a href="main_a_t_m_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">More...</a><br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a073a47ca21300835133a077fe35dd786"><td class="memItemLeft" align="right" valign="top"><a id="a073a47ca21300835133a077fe35dd786" name="a073a47ca21300835133a077fe35dd786"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>PERSON_FORMAT_IN</b> = &quot;(%d,%[^,],%[^,],%[^,],%d,%[^,],%f,%[^,],%ld)\n&quot;</td></tr>
<tr class="memdesc:a073a47ca21300835133a077fe35dd786"><td class="mdescLeft">&#160;</td><td class="mdescRight">//Person_FORMAT_IN is used for the deserialization of the data(basically reading data from the file in the manner specified in the Person_format_in). This format is able to distinguish between two Strings because of ',' in between them,meaning whenever a ',' is encountered the next string will be stored in the next structure variable. <br /></td></tr>
<tr class="separator:a073a47ca21300835133a077fe35dd786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1760d12806e3d783ddcf1c4e635a496f"><td class="memItemLeft" align="right" valign="top"><a id="a1760d12806e3d783ddcf1c4e635a496f" name="a1760d12806e3d783ddcf1c4e635a496f"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>PERSON_FORMAT_OUT</b> = &quot;(%d,%s,%s,%s,%d,%s,%.2f,%s,%ld)\n&quot;</td></tr>
<tr class="memdesc:a1760d12806e3d783ddcf1c4e635a496f"><td class="mdescLeft">&#160;</td><td class="mdescRight">//PERSON_FORMAT_OUT is used for the serialization(writing the stream of bytes to the file) of the data which the user inputs into the database2.txt file(basically writing data to the file in the manner specified in the Person_format_out). The data is first stored into the structure Variables then it is written to the database2.txt file using the format specified. <br /></td></tr>
<tr class="separator:a1760d12806e3d783ddcf1c4e635a496f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Kunal Narendra Sahare </dd></dl>
<dl class="section date"><dt>Date</dt><dd>March 30 2022 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afe152c4488471280bfb8eec5c66dfd6e" name="afe152c4488471280bfb8eec5c66dfd6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe152c4488471280bfb8eec5c66dfd6e">&#9670;&nbsp;</a></span>check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check() function simply checkes for existing user data can is accessed when New User case is selected. if the entered account Number exits then the user is promted to select one of the options. </p>
<p >1&gt; when the user presses '1' then the user will be sent to the <a class="el" href="main_a_t_m_8c.html#a4f17afc4a08d13979efc4da7a3fc5942" title="The existinguser() function is accessed when the user selects the second option or when the user ente...">existinguser()</a> function where the user will login.</p>
<p >2&gt; when the user presses '2' then the user will be sent to the new user registration() function where the user will give the details to register as a new user ,after all the values are successfully added the values will be then added to the database2.txt file.</p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<p >while(fscanf) reads the entire file from start to END.</p>
<p >checking whether the acc_accno is already present within the database2.txt or not.</p>

</div>
</div>
<a id="a420b6d51aca4eabe40e1dcd4e02898be" name="a420b6d51aca4eabe40e1dcd4e02898be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420b6d51aca4eabe40e1dcd4e02898be">&#9670;&nbsp;</a></span>deposit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deposit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>void <a class="el" href="main_a_t_m_8c.html#a420b6d51aca4eabe40e1dcd4e02898be" title="void deposit(int id,int p) When the user has been authenticated and wants to perform the deposit acti...">deposit(int id,int p)</a> When the user has been authenticated and wants to perform the deposit action on their account. </p>
<p >This is the detailed description.</p>
<p >Step wise changes:</p>
<p >Since File handling can only perform read,write and append operations modification of the original file becomes a challenge. But update functionality can be achieved through a series of operations done below.</p>
<p >1&gt;First the database2.txt file is completely read through the fscanf function , all the fields which are not matching from the user account number and pin are stored into a temporary file called 'temp.txt'.</p>
<p >2&gt; After all the non matching fileds are read from the database2.txt and then stored into temp.txt. The one field that matches with the acc_no and pin are then accessed and the user is prompted to enter the amount of money that needs to be deposited.</p>
<p >3&gt; New amount of money is stored into a new variable and then through the structure <a class="el" href="structbank__acc.html" title="a struct named &#39;bank_acc&#39; is being created so the data taken from the user can be read and written to...">bank_acc</a> the acc_balance is accessed and the amount is changed in the acc_balance variable .This acc_balance will be now written into the temp.txt file by using the fprintf function().</p>
<p >4&gt; This changed value will now be written into the temp.txt file and the original database2.txt contents will be deleted , this operation is done through opening the file in 'write' mode and closing it without adding any values in it.</p>
<p >5&gt; Now the original database2.txt file has been completely wiped but not deleted, but the temp.txt contains all the fields , therefore all the contents of the temp.txt file will be copied into the database2.txt and the temp file will be wiped and then deleted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>This parameter is taking the User Account number. </td></tr>
    <tr><td class="paramname">p</td><td>This parameter is taking the user's pin. </td></tr>
  </table>
  </dd>
</dl>
<p >creating a new <a class="el" href="structbank__acc.html" title="a struct named &#39;bank_acc&#39; is being created so the data taken from the user can be read and written to...">bank_acc</a> structure variable.</p>
<p >opening the files database2.txt and temp.txt</p>
<p >closing the files</p>
<p >deleting all the contents of the database2.txt so that it can be rewritten after the changes are done.</p>
<p >reopening both database2.txt file and temp.txt file.</p>
<p >reading the contents of the temp file and writing them to the original database2.txt file.</p>
<p >closing the files again.</p>
<p >deleting the file temp.txt</p>

</div>
</div>
<a id="a4958e2d854c6c2719ab60f589a24e1b2" name="a4958e2d854c6c2719ab60f589a24e1b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4958e2d854c6c2719ab60f589a24e1b2">&#9670;&nbsp;</a></span>display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Displays the content of the Authorized user. </p>
<p >This function simply matches the the account Number from the user with the account number in the database2.txt , same for the pin number, if both the fields match then the information regarding the user is displayed on the screen.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The id parameter is the Account holder's account Number. </td></tr>
    <tr><td class="paramname">p</td><td>The p parameter is the Account's pin. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f17afc4a08d13979efc4da7a3fc5942" name="a4f17afc4a08d13979efc4da7a3fc5942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f17afc4a08d13979efc4da7a3fc5942">&#9670;&nbsp;</a></span>existinguser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int existinguser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The <a class="el" href="main_a_t_m_8c.html#a4f17afc4a08d13979efc4da7a3fc5942" title="The existinguser() function is accessed when the user selects the second option or when the user ente...">existinguser()</a> function is accessed when the user selects the second option or when the user enters a matching account id in the 'New user' section. </p>
<p >This is the detailed one. More deatails</p>
<p >The user enters the the account Number and pin if they exists then the user is given a different set of switch cases. These are:-</p>
<p >1&gt; Displays the user's Information</p>
<p >2&gt; Deposit Money(Deposits the money)</p>
<p >3&gt; Withdraw Money("Withdrawl of the money")</p>
<p >4&gt; Exit the function.</p>
<p >if the entered account No and password does not exist in the database then the user will be prompted with the message 'Do you want to register as a new user' 1 for 'yes' and 2 for 'No'.</p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<p >if the account id and pin matches then the user is presented with a new switch case statements.</p>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main function is where the program starts from . The user is shown the initial screen of 'Welcome to the ATM', and asked to perform one of the diplayed functions. A switch case has been implemented whenever the user opts to select one of the options. </p>
<p >This is the detailed one. More details A switch case has been implemented, so the user chooses one of the options. 1.&gt; When the user presses '1' the user will be taken to the Check() function which will ask the user for a account id, which will be checked across the database2.txt and if a match is found then the user is prompted to either log in or they are given a choice to register as a new user, but if a match is not found within the database2.txt file the user is direclty taken to the New user Registration function.</p>
<p >2.&gt; The Second option is for the existing user, when the user presses '2' the user is asked to enter their account id and account pin which will be checked across the database2.txt and when a match is found the the user is redirected to a set of switch cases which are only accessed when an id match is found.</p>
<p >3.&gt; The Third option is for the Exit functoin which will simply exit entire program.</p>
<dl class="section note"><dt>Note</dt><dd>The program will not terminate until and unless the user selects to exit the program ,but once a user is authenticated they are presented with a new set of options which will let the user to manipulate the 'data',but only relating to that specific user only and not anyone else.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>inputing alphabetic or wrong numberic values will lead to the function displaying 'Invalid Input'</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a5eb97d18200407a6c33e2662e6428011" name="a5eb97d18200407a6c33e2662e6428011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb97d18200407a6c33e2662e6428011">&#9670;&nbsp;</a></span>new_User_Registration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void new_User_Registration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>line 54 - 59 are all function declarations Each function will be explained when they are encountered below. </p>
<p >Void new_User_Registration.</p>
<p >when no existing user is detected and user wants to register as a new user, new_User_Rgistration() is called. </p>

</div>
</div>
<a id="a0762848bd2b8f2475e7b9469bc164ab4" name="a0762848bd2b8f2475e7b9469bc164ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0762848bd2b8f2475e7b9469bc164ab4">&#9670;&nbsp;</a></span>withdraw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void withdraw </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>void withdrawl(int id) </p>
<p >When the user has been authenticated and wants to perform the deposit action on their account.</p>
<p >This is the detailed description.</p>
<p >Step wise changes:</p>
<p >Since File handling can only perform read,write and append operations modification of the original file becomes a challenge. But update functionality can be achieved through a series of operations done below.</p>
<p >1&gt;First the database2.txt file is completely read through the fscanf function , all the fields which are not matching from the user account number and pin are stored into a temporary file called 'temp2.txt'.</p>
<p >2&gt; After all the non matching fileds are read from the database2.txt and then stored into temp2.txt. The one field that matches with the acc_no is then accessed and the user is prompted to enter the amount of money that needs to be withdrawn.</p>
<p >3&gt; The amount of money to be withdrawn is stored into a new variable and then through the structure <a class="el" href="structbank__acc.html" title="a struct named &#39;bank_acc&#39; is being created so the data taken from the user can be read and written to...">bank_acc</a> the acc_balance is accessed and the amount is changed in the acc_balance variable . A check is performed if the entered amount of money to be withdrawn is more than the Account Holder's balance than the user will be prompted to 'Enter lower amount of money to be withdrawn '. Once acceptable amount is withdrawn from the account then the acc_balance will be now written into the temp2.txt file by using the fprintf function().</p>
<p >4&gt; This changed value will now be written into the temp2.txt file and the original database2.txt contents will be deleted , this operation is done through opening the file in 'write' mode and closing it without adding any values in it.</p>
<p >5&gt; Now the original database2.txt file has been completely wiped but not deleted, but the temp2.txt contains all the fields , therefore all the contents of the temp2.txt file will be copied into the database2.txt and the temp2 file will be wiped and then deleted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>This parameter is taking the User Account number. </td></tr>
  </table>
  </dd>
</dl>
<p >reading all the contents of the database2.txt file using the while(fscanf()), all the non-matching id values are copied to the temp2.txt file and when there is a match for one of the id the then the user is asked to enter the amount of money to be withdrawn.</p>
<p >closing the files database2.txt and temp2.txt.</p>
<p >deleting all the contents of the database2.txt so that it can be rewritten after the changes are done.</p>
<p >reopening the files and reading all the contents of the temp2.txt and writing it into the original database2.txt file.</p>
<p >closing the files.</p>
<p >removing the temp2.txt(deleting) from the directory.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
